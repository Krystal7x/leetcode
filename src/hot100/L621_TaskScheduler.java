package hot100;

//ç»™å®šä¸€ä¸ªç”¨å­—ç¬¦æ•°ç»„è¡¨ç¤ºçš„ CPU éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨ã€‚å…¶ä¸­åŒ…å«ä½¿ç”¨å¤§å†™çš„ A - Z å­—æ¯è¡¨ç¤ºçš„26 ç§ä¸åŒç§ç±»çš„ä»»åŠ¡ã€‚ä»»åŠ¡å¯ä»¥ä»¥ä»»æ„é¡ºåºæ‰§è¡Œï¼Œå¹¶ä¸”æ¯ä¸ªä»»åŠ¡
//éƒ½å¯ä»¥åœ¨ 1 ä¸ªå•ä½æ—¶é—´å†…æ‰§è¡Œå®Œã€‚CPU åœ¨ä»»ä½•ä¸€ä¸ªå•ä½æ—¶é—´å†…éƒ½å¯ä»¥æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œæˆ–è€…åœ¨å¾…å‘½çŠ¶æ€ã€‚ 
//
// ç„¶è€Œï¼Œä¸¤ä¸ªç›¸åŒç§ç±»çš„ä»»åŠ¡ä¹‹é—´å¿…é¡»æœ‰é•¿åº¦ä¸º n çš„å†·å´æ—¶é—´ï¼Œå› æ­¤è‡³å°‘æœ‰è¿ç»­ n ä¸ªå•ä½æ—¶é—´å†… CPU åœ¨æ‰§è¡Œä¸åŒçš„ä»»åŠ¡ï¼Œæˆ–è€…åœ¨å¾…å‘½çŠ¶æ€ã€‚ 
//
// ä½ éœ€è¦è®¡ç®—å®Œæˆæ‰€æœ‰ä»»åŠ¡æ‰€éœ€è¦çš„æœ€çŸ­æ—¶é—´ã€‚ 
//
// 
//
// ç¤ºä¾‹ ï¼š 
//
// è¾“å…¥ï¼štasks = ["A","A","A","B","B","B"], n = 2
//è¾“å‡ºï¼š8
//è§£é‡Šï¼šA -> B -> (å¾…å‘½) -> A -> B -> (å¾…å‘½) -> A -> B.
//     åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œä¸¤ä¸ªç›¸åŒç±»å‹ä»»åŠ¡ä¹‹é—´å¿…é¡»é—´éš”é•¿åº¦ä¸º n = 2 çš„å†·å´æ—¶é—´ï¼Œè€Œæ‰§è¡Œä¸€ä¸ªä»»åŠ¡åªéœ€è¦ä¸€ä¸ªå•ä½æ—¶é—´ï¼Œæ‰€ä»¥ä¸­é—´å‡ºç°äº†ï¼ˆå¾…å‘½ï¼‰çŠ¶æ€ã€‚ 
//
// 
//
// æç¤ºï¼š 
//
// 
// ä»»åŠ¡çš„æ€»ä¸ªæ•°ä¸º [1, 10000]ã€‚ 
// n çš„å–å€¼èŒƒå›´ä¸º [0, 100]ã€‚ 
// 
// Related Topics è´ªå¿ƒç®—æ³• é˜Ÿåˆ— æ•°ç»„ 
// ğŸ‘ 418 ğŸ‘ 0


import java.util.Arrays;

//L621ã€ä»»åŠ¡è°ƒåº¦å™¨ ----
public class L621_TaskScheduler {

    //leetcode submit region begin(Prohibit modification and deletion)
    class Solution {
        // è¿™é¢˜å¸¦ç»™æˆ‘çš„ç†è§£ å°±æ˜¯ å¾ˆå¤šæ—¶å€™ä¸ç”¨å»è®°å½•
        // æ¯”å¦‚ ABC ä¸ç”¨è®°å½• ABC ç»™ä»–ä»¬æ’åºä¿å­˜ï¼Œ åªéœ€è¦ ç”¨è¿‡ æˆ–è€…ä½¿ç”¨ è®¡æ•°å™¨è¿™äº›ä¸œè¥¿è¶³å¤Ÿ

        /**
         * [A,A,A,A,B,B,C]  -> [A:3, B:2,C:1] -> [0.....,1,2,3]  n=2 çš„æƒ…å†µï¼Œ
         * ç„¶åä½¿ç”¨æ¯æ¬¡çš„ n + 1 ä¸ªä»»åŠ¡ æ¯”å¦‚ A B C è¿™æ—¶å€™å†æ‰§è¡Œ A æ­£å¥½ä¸éœ€è¦å†·å´ã€‚
         * å¦‚æœæ˜¯ A B ï¼ˆç­‰å¾…ï¼‰ A å°±éœ€è¦å†·å´
         */

        public int leastInterval(char[] tasks, int n) {

            int[] map = new int[26];
            // å°† task å­—ç¬¦è½¬å…¥ map ä¸­å­˜å‚¨
            for (char c : tasks)
                map[c - 'A']++;   // è½¬æ¢ä½¿ç”¨æ•°å­—å­˜å‚¨
            // ç„¶åå®šä¹‰ä¸€ä¸ªæ•°å­— è®°å½•å…¨å±€æ—¶é—´ã€‚
            int time = 0;
            Arrays.sort(map);  // æ’åº [0.....1,2,3]

            while (map[25] > 0) {
                int i = 0; // è®°å½• n çš„è½®æ¬¡ æ˜¯å¦æ»¡è¶³äº†
                while (i <= n) { // è¿™é‡Œ è¦ <= n è¿™æ · æ‰èƒ½ n+1 è½®æ¬¡
                    // é¦–å…ˆè¦åˆ¤æ–­ä¸‹ æœ€å¤§è½®æ¬¡æ˜¯å¦å·²ç»èµ°å®Œ
                    if (map[25] == 0)
                        break;
                    if (i < 26 && map[25 - i] > 0)
                        map[25 - i]--;  // èµ°è½®æ¬¡
                    time++;
                    i++;
                }
                Arrays.sort(map);  // å†é‡æ–°æ’åº çœ‹æ˜¯å¦æœ€å¤§çš„å·²ç»èµ°å®Œ [A:3,B:3,C:2]  A å¯èƒ½ä¼šå…ˆèµ°å®Œ
            }

            return time;
        }
    }
//leetcode submit region end(Prohibit modification and deletion)


    public static void main(String[] args) {
        Solution solution = new L621_TaskScheduler().new Solution();

    }
}